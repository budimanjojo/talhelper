<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="budimanjojo" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Configuration - Talhelper</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
        <link href="../../css/highlight.css" rel="stylesheet" />
        <link href="../../css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Configuration";
        var mkdocs_page_input_path = "reference/configuration.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]--> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../img/logo.svg" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../getting-started/">Getting Started</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../installation/">Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../guides/">Guides</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../cli/">CLI</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Configuration</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#config">Config</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#node">Node</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#nodeconfigs">NodeConfigs</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#imagefactory">ImageFactory</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#machinespec">MachineSpec</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ingressfirewall">IngressFirewall</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#extensionservice">ExtensionService</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#volume">Volume</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#uservolume">UserVolume</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#networkrule">NetworkRule</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#cniconfig">CNIConfig</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#installdiskselector">InstallDiskSelector</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#inlinemanifest">InlineManifest</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#machinedisk">MachineDisk</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#machinefile">MachineFile</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#installextensionconfig">InstallExtensionConfig</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#schematic">Schematic</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#kernelmoduleconfig">KernelModuleConfig</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#device">Device</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#portselector">PortSelector</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ingressconfig">IngressConfig</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#configfile">ConfigFile</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#provisioningspec">ProvisioningSpec</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#filesystemspec">FilesystemSpec</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../supported-version/">Supported Talos Versions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">GitHub</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="https://github.com/budimanjojo/talhelper">Homepage</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://github.com/budimanjojo/talhelper/issues">Issue Tracker</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../contributing/">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://github.com/sponsors/budimanjojo">Sponsor Me</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Talhelper</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Reference &raquo;</li>
      <li>Configuration</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="configuration">Configuration</h1>
<h2 id="config">Config</h2>
<p>Package <code>config</code> contains all the options available for configuring a Talos cluster.</p>
<table>
<tr>
<th>Field</th>
<p><th>Type</th><th>Description</th><th>Default Value</th><th>Required</th></p>
</tr>
<tr>
<td><code>clusterName</code></td>
<td>string</td>
<td>Configures the cluster's name.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">clusterName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-cluster</span>
</code></pre></div>
</details></td>
<td align="center"><code>""</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>endpoint</code></td>
<td>string</td>
<td><details><summary>Configures the cluster's controlplane endpoint.</summary>Can be an IP address or a DNS hostname</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">endpoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://192.168.200.10:6443</span>
</code></pre></div>
</details></td>
<td align="center"><code>""</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>nodes</code></td>
<td>[]<a href="#node">Node</a></td>
<td>List of nodes configurations<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">nodes</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kmaster1</span>
<span class="w">    </span><span class="nt">ipAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.200.11</span>
<span class="w">    </span><span class="nt">controlPlane</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">installDiskSelector</span><span class="p">:</span>
<span class="w">      </span><span class="nt">size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">128GB</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kworker1</span>
<span class="w">    </span><span class="nt">ipAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.200.12</span>
<span class="w">    </span><span class="nt">controlPlane</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">installDisk</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/dev/sda</span>
<span class="w">    </span><span class="nt">networkInterfaces</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">eth0</span>
<span class="w">        </span><span class="nt">dhcp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</details></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>talosVersion</code></td>
<td>string</td>
<td><details><summary>Talos version to perform the installation.</summary>Image reference for each Talos release can be found on <br /><a href="https://github.com">Talos GitHub release page</a></details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">talosVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.5.2</span>
</code></pre></div>
</details></td>
<td align="center"><code>"latest"</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>kubernetesVersion</code></td>
<td>string</td>
<td>Allows for supplying the Kubernetes version to use.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">kubernetesVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.28.1</span>
</code></pre></div>
</details></td>
<td align="center"><code>""</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>domain</code></td>
<td>string</td>
<td>Allows for supplying the domain used by Kubernetes DNS.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">domain</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mycluster.com</span>
</code></pre></div>
</details></td>
<td align="center"><code>"cluster.local"</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>allowSchedulingOnMasters</code></td>
<td>bool</td>
<td>Whether to allow running workload on controlplane nodes.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">allowSchedulingOnMasters</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</details></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>allowSchedulingOnControlPlanes</code></td>
<td>bool</td>
<td><details><summary>Whether to allow running workload on controlplane nodes.</summary>It is an alias to <code>allowSchedulingOnMasters</code></details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">allowSchedulingOnControlPlanes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</details></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>additionalMachineCertSans</code></td>
<td>[]string</td>
<td><strong>DEPRECATED! Use node/node groups <code>certSANs</code></strong>. Extra certificate SANs for the machine's certificate.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">additionalMachineCertSans</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.0.0.10</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.16.0.10</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.0.10</span>
</code></pre></div>
</details></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>additionalApiServerCertSans</code></td>
<td>[]string</td>
<td>Extra certificate SANs for the API server's certificate.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">additionalApiServerCertSans</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.2.3.4</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4.5.6.7</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mycluster.local</span>
</code></pre></div>
</details></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>cniConfig</code></td>
<td><a href="#cniconfig">CNIConfig</a></td>
<td>The CNI to be used for the cluster's network.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">cniConfig</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom</span>
<span class="w">  </span><span class="nt">urls</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://docs.projectcalico.org/archive/v3.20/manifests/canal.yaml</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>imageFactory</code></td>
<td><a href="#imagefactory">ImageFactory</a></td>
<td>Configures selfhosted image factory.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">imageFactory</span><span class="p">:</span>
<span class="w">  </span><span class="nt">registryURL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myfactory.com</span>
<span class="w">  </span><span class="nt">schematicEndpoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/schematics</span>
<span class="w">  </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https</span>
<span class="w">  </span><span class="nt">installerURLTmpl</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{{</span><span class="nv">.RegistryURL</span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">/installer/{{.ID}}:{{.Version}}</span>
<span class="w">  </span><span class="nt">ImageURLTmpl</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{{</span><span class="nv">.Protocol</span><span class="p p-Indicator">}}</span><span class="l l-Scalar l-Scalar-Plain">://{{.RegistryURL}}/image/{{.ID}}/{{.Version}}/{{.Mode}}/{{.Arch}}.iso</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>patches</code></td>
<td>[]string</td>
<td><details><summary>Patches to be applied to all nodes.</summary>List of strings containing RFC6902 JSON patches, strategic merge patches,<br />or a file containing them</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">patches</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<span class="w">    </span><span class="no">- op: add</span>
<span class="w">      </span><span class="no">path: /machine/kubelet/extraArgs</span>
<span class="w">      </span><span class="no">value:</span>
<span class="w">        </span><span class="no">rotate-server-certificates: &quot;true&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<span class="w">    </span><span class="no">machine:</span>
<span class="w">      </span><span class="no">env:</span>
<span class="w">        </span><span class="no">MYENV: value</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;@./a-patch.yaml&quot;</span>
</code></pre></div>
</details></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>inlineManifests</code></td>
<td>[]<a href="#inlinemanifest">InlineManifest</a></td>
<td>A list of inline Kubernetes manifests for the cluster.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">inlineManifests</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">namespace-ci</span>
<span class="w">    </span><span class="nt">contents</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<span class="w">      </span><span class="no">apiVersion: v1</span>
<span class="w">      </span><span class="no">kind: Namespace</span>
<span class="w">      </span><span class="no">metadata:</span>
<span class="w">        </span><span class="no">name: ci</span>
</code></pre></div>
</details></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>controlPlane</code></td>
<td><a href="#nodeconfigs">NodeConfigs</a></td>
<td>Configurations targetted for all controlplane nodes.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">controlPlane</span><span class="p">:</span>
<span class="w">  </span><span class="nt">kernelModules</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">br_netfilter</span>
<span class="w">      </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nf_conntrack_max=131072</span>
<span class="w">  </span><span class="nt">patches</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<span class="w">      </span><span class="no">- op: add</span>
<span class="w">        </span><span class="no">path: /machine/kubelet/extraArgs</span>
<span class="w">        </span><span class="no">value:</span>
<span class="w">          </span><span class="no">rotate-server-certificates: &quot;true&quot;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<span class="w">      </span><span class="no">machine:</span>
<span class="w">        </span><span class="no">env:</span>
<span class="w">          </span><span class="no">MYENV: value</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;@./a-patch.yaml&quot;</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>worker</code></td>
<td><a href="#nodeconfigs">NodeConfigs</a></td>
<td>Configurations targetted for all worker nodes.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">worker</span><span class="p">:</span>
<span class="w">  </span><span class="nt">kernelModules</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">br_netfilter</span>
<span class="w">      </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nf_conntrack_max=131072</span>
<span class="w">  </span><span class="nt">patches</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<span class="w">      </span><span class="no">- op: add</span>
<span class="w">        </span><span class="no">path: /machine/kubelet/extraArgs</span>
<span class="w">        </span><span class="no">value:</span>
<span class="w">          </span><span class="no">rotate-server-certificates: &quot;true&quot;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<span class="w">      </span><span class="no">machine:</span>
<span class="w">        </span><span class="no">env:</span>
<span class="w">          </span><span class="no">MYENV: value</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;@./a-patch.yaml&quot;</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
</table>
<h2 id="node">Node</h2>
<p><code>Node</code> defines machine configurations for each node.</p>
<table>
<tr>
<th>Field</th>
<p><th>Type</th><th>Description</th><th>Default Value</th><th>Required</th></p>
</tr>
<tr>
<td><code>hostname</code></td>
<td>string</td>
<td>Configures the hostname of a node.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kmaster1</span>
</code></pre></div>
</details></td>
<td align="center"><code>""</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>ipAddress</code></td>
<td>string</td>
<td><details><summary>IP address where the node can be reached, can be IP or comma separated list of IPs.</summary>Needed for endpoint and node address inside <code>talosconfig</code>.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">ipAddress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.200.11</span>
</code></pre></div>
</summary></td>
<td align="center"><code>""</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>installDisk</code></td>
<td>string</td>
<td>The disk used for installation.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">installDisk</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/dev/sda</span>
</code></pre></div>
</summary></td>
<td align="center"><code>""</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>installDiskSelector</code></td>
<td><a href="#installdiskselector">InstallDiskSelector</a></td>
<td><details><summary>Look up disk used for installation.</summary>Required if <code>installDisk</code> is not specified.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">installDiskSelector</span><span class="p">:</span>
<span class="w">  </span><span class="nt">size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">128GB</span>
<span class="w">  </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WDC*</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/sys/block/sda/device/name</span>
<span class="w">  </span><span class="nt">busPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/pci0000:00/0000:00:17.0/ata1/host0/target0:0:0/0:0:0:0</span>
</code></pre></div>
</summary></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>controlPlane</code></td>
<td>bool</td>
<td>Whether the node is a controlplane.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">controlPlane</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>ignoreHostname</code></td>
<td>bool</td>
<td>Whether to set <code>machine.network.hostname</code> to the generated config file.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">ignoreHostname</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>overridePatches</code></td>
<td>bool</td>
<td><details><summary>Whether <code>patches</code> defined here should override the one defined in node group.</summary>By default they will get appended instead.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">overridePatches</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>overrideExtraManifests</code></td>
<td>bool</td>
<td><details><summary>Whether <code>extraManifests</code> defined here should override the one defined in node group.</summary>By default they will get appended instead.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">overrideExtraManifests</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>overrideMachineCertSANs</code></td>
<td>bool</td>
<td><details><summary>Whether <code>certSANs</code> defined here should override the one defined in node group.</summary>By default they will get appended instead.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">overrideMachineCertSANs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td>-</td>
<td><a href="#nodeconfigs">NodeConfigs</a></td>
<td>Node specific configurations that will override node group configurations.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">talosImageURL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">factory.talos.dev/installer/e9c7ef96884d4fbc8c0a1304ccca4bb0287d766a8b4125997cb9dbe84262144e</span>
<span class="nt">nodeLabels</span><span class="p">:</span>
<span class="w">  </span><span class="nt">rack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rack1a</span>
<span class="nt">nodeTaints</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exampleTaint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">exampletaintValue:NoSchedule</span>
<span class="nt">disableSearchDomain</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</summary></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
</table>
<h2 id="nodeconfigs">NodeConfigs</h2>
<p><code>NodeConfigs</code> defines machine configurations.</p>
<table>
<tr>
<th>Field</th>
<p><th>Type</th><th>Description</th><th>Default Value</th><th>Required</th></p>
</tr>
<tr>
<td><code>talosImageURL</code></td>
<td>string</td>
<td>Allows for supplying the node level image used to perform the installation.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">talosImageURL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">factory.talos.dev/installer/e9c7ef96884d4fbc8c0a1304ccca4bb0287d766a8b4125997cb9dbe84262144e</span>
</code></pre></div>
</details></td>
<td align="center"><code>""</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>machineSpec</code></td>
<td><a href="#machinespec">MachineSpec</a></td>
<td><details><summary>Machine hardware specification for the node.</summary>Only used for <code>genurl image</code> subcommand.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">machineSpec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">metal</span>
<span class="w">  </span><span class="nt">arch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arm64</span>
<span class="w">  </span><span class="nt">bootMethod</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">disk-image</span>
<span class="w">  </span><span class="nt">imageSuffix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">raw.xz</span>
</code></pre></div>
</summary></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>filenameTmpl</code></td>
<td>string</td>
<td><details><summary>Go template for generated filename.</summary>Available placeholders: <code>ClusterName</code>,<code>Hostname</code>,<code>IPAddress</code>, <code>Role</code></details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">filenameTmpl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{.ClusterName}}-{{.Role}}-{{.Hostname}}.yaml&quot;</span>
</code></pre></div>
</summary></td>
<td align="center"><code>{{.ClusterName}}-{{.Hostname}}.yaml</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>ingressFirewall</code></td>
<td><a href="#ingressfirewall">IngressFirewall</a></td>
<td>Machine firewall specification for the node.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">ingressFirewall</span><span class="p">:</span>
<span class="w">  </span><span class="nt">defaultAction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">block</span>
<span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kubelet-ingress</span>
<span class="w">      </span><span class="nt">portSelector</span><span class="p">:</span>
<span class="w">        </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10250</span>
<span class="w">        </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tcp</span>
<span class="w">      </span><span class="nt">ingress</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">subnet</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.20.0.0/24</span>
<span class="w">          </span><span class="nt">except</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.20.0.1/32</span>
</code></pre></div>
</summary></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>extensionServices</code></td>
<td>[]<a href="#extensionservice">ExtensionService</a></td>
<td>Machine extension services specification for the node.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">extensionServices</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nut-client</span>
<span class="w">    </span><span class="nt">configFiles</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MONITOR upsmonHost 1 remote pass password</span>
<span class="w">        </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/etc/nut/upsmon.conf</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">UPS_NAME=ups</span>
</code></pre></div>
</summary></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>volumes</code></td>
<td>[]<a href="#volume">Volume</a></td>
<td>Machine volume configs specification.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">volumes</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EPHEMERAL</span>
<span class="w">    </span><span class="nt">provisioning</span><span class="p">:</span>
<span class="w">      </span><span class="nt">diskSelector</span><span class="p">:</span>
<span class="w">        </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">disk.transport == &quot;nvme&quot;</span>
<span class="w">      </span><span class="nt">maxSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50GiB</span>
</code></pre></div>
</summary></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>userVolumes</code></td>
<td>[]<a href="#uservolume">UserVolume</a></td>
<td>Machine user volume configs specification.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">userVolumes</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ceph-data</span>
<span class="w">    </span><span class="nt">provisioning</span><span class="p">:</span>
<span class="w">      </span><span class="nt">diskSelector</span><span class="p">:</span>
<span class="w">        </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">disk.transport == &quot;nvme&quot;</span>
<span class="w">      </span><span class="nt">maxSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50GiB</span>
<span class="w">    </span><span class="nt">filesystem</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">xfs</span>
</code></pre></div>
</summary></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>nodeLabels</code></td>
<td>map[string]string</td>
<td>Labels to be added to the node.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">rack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rack1a</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>nodeAnnotations</code></td>
<td>map[string]string</td>
<td>Annotations to be added to the node.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">rack</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rack1a</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>nodeTaints</code></td>
<td>map[string]string</td>
<td>Node taints for the node.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">exampleTaint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">exampleTaintValue:NoSchedule</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>disableSearchDomain</code></td>
<td>bool</td>
<td>Whether to disable generating default search domain.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">disableSearchDomain</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>machineDisks</code></td>
<td>[]<a href="#machinedisk">MachineDisk</a></td>
<td>DEPRECATED: use <code>userVolumes</code> instead.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">machineDisks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/dev/disk/by-id/ata-CT500MX500SSD1_2149E5EC1D9D</span>
<span class="w">    </span><span class="nt">partitions</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mountpoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/mnt/sata</span>
</code></pre></div>
</summary></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>noSchematicValidate</code></td>
<td>bool</td>
<td>Whether to skip schematic validation.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">noSchematicValidate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>disableSearchDomain</code></td>
<td>bool</td>
<td>Whether to disable generating default search domain.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">disableSearchDomain</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>machineFiles</code></td>
<td>[]<a href="#machinefile">MachineFile</a></td>
<td>List of additional files to create inside the node.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">machineFiles</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">TS_AUTHKEY=123456</span>
<span class="w">    </span><span class="nt">permissions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0o644</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/etc/tailscale/auth.env</span>
<span class="w">    </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">create</span>
</code></pre></div>
</summary></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>schematic</code></td>
<td><a href="#schematic">Schematic</a></td>
<td>Configure Talos image customization to be used in the installer image<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">schematic</span><span class="p">:</span>
<span class="w">  </span><span class="nt">customization</span><span class="p">:</span>
<span class="w">    </span><span class="nt">extraKernelArgs</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">net.ifnames=0</span>
<span class="w">    </span><span class="nt">systemExtensions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">officialExtensions</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">siderolabs/intel-ucode</span>
</code></pre></div>
</summary></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>imageSchematic</code></td>
<td><a href="#schematic">Schematic</a></td>
<td>Configure Talos image customization to be used for ISO or boot image<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">imageSchematic</span><span class="p">:</span>
<span class="w">  </span><span class="nt">customization</span><span class="p">:</span>
<span class="w">    </span><span class="nt">extraKernelArgs</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">net.ifnames=0</span>
<span class="w">    </span><span class="nt">systemExtensions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">officialExtensions</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">siderolabs/intel-ucode</span>
</code></pre></div>
</summary></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>kernelModules</code></td>
<td>[]<a href="#kernelmoduleconfig">KernelModuleConfig</a></td>
<td>List of additional kernel modules to load.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">kernelModules</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">br_netfilter</span>
<span class="w">    </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nf_conntrack_max=131072</span>
</code></pre></div>
</summary></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>nameservers</code></td>
<td>[]string</td>
<td>List of nameservers for the node.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">nameservers</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8.8.8.8</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.1.1.1</span>
</code></pre></div>
</summary></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>networkInterfaces</code></td>
<td>[]<a href="#device">Device</a></td>
<td>List of network interface configurations for the node.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">networkInterfaces</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enp0s1</span>
<span class="w">    </span><span class="nt">addresses</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.2.0/24</span>
<span class="w">    </span><span class="nt">routes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">network</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.0/0</span>
<span class="w">        </span><span class="nt">gateway</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.2.1</span>
<span class="w">        </span><span class="nt">metric</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1024</span>
<span class="w">    </span><span class="nt">mtu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1500</span>
</code></pre></div>
</summary></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>extraManifests</code></td>
<td>[]string</td>
<td>List of manifest files to be added for the node.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">extraManifests</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">etcd-firewall.yaml</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kubelet-firewall.yaml</span>
</code></pre></div>
</summary></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>certSANs</code></td>
<td>[]string</td>
<td>Extra SANs in the machine's certificate.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">certSANs</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example.org</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.16.0.10</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.0.10</span>
</code></pre></div>
</details></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>patches</code></td>
<td>[]string</td>
<td><details><summary>Patches to be applied to the node.</summary>List of strings containing RFC6902 JSON patches, strategic merge patches,<br />or a file containing them.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">patches</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<span class="w">    </span><span class="no">- op: add</span>
<span class="w">      </span><span class="no">path: /machine/kubelet/extraArgs</span>
<span class="w">      </span><span class="no">value:</span>
<span class="w">        </span><span class="no">rotate-server-certificates: &quot;true&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|-</span>
<span class="w">    </span><span class="no">machine:</span>
<span class="w">      </span><span class="no">env:</span>
<span class="w">        </span><span class="no">MYENV: value</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;@./a-patch.yaml&quot;</span>
</code></pre></div>
</details></td>
<td align="center"><code>[]</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
</table>
<h2 id="imagefactory">ImageFactory</h2>
<p><code>ImageFactory</code> defines configuration for selfhosted image-factory.</p>
<table>
<tr>
<th>Field</th>
<p><th>Type</th><th>Description</th><th>Default Value</th><th>Required</th></p>
</tr>
<tr>
<td><code>registryURL</code></td>
<td>string</td>
<td>Registry URL of the factory.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">registryURL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myfactory.com</span>
</code></pre></div>
</details></td>
<td align="center"><code>"factory.talos.dev"</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>protocol</code></td>
<td>string</td>
<td>Protocol the registry is listening to.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
</code></pre></div>
</summary></td>
<td align="center"><code>https</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>schematicEndpoint</code></td>
<td>string</td>
<td>Path to do HTTP POST request to the registry.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">schematicEndpoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/schematics</span>
</code></pre></div>
</summary></td>
<td align="center"><code>/schematics</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>installerURLTmpl</code></td>
<td>string</td>
<td><details><summary>Go template to parse the full installer URL.</summary>Available placeholders: <code>RegistryURL</code>,<code>ID</code>,<code>Version</code>, <code>Secureboot</code></details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">installerURLTmpl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{.RegistryURL}}/installer/{{.ID}}:{{.Version}}&quot;</span>
</code></pre></div>
</summary></td>
<td align="center"><code>{{.RegistryURL}}/installer{{if .Secureboot}}-secureboot{{end}}/{{.ID}}:{{.Version}}</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>ImageURLTmpl</code></td>
<td>string</td>
<td><details><summary>Go template to parse the full ISO or boot image URL.</summary>Available placeholders: <code>Protocol</code>,<code>RegistryURL</code>,<code>ID</code>,<code>Version</code>,<code>Mode</code>,<code>Arch</code>, <code>Secureboot</code>, <code>UseUKI</code>, <code>BootMethod</code>, <code>Suffix</code></details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">ImageURLTmpl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{.Protocol}}://{{.RegistryURL}}/image/{{.ID}}/{{.Version}}/{{.Mode}}-{{.Arch}}.iso&quot;</span>
</code></pre></div>
</summary></td>
<td align="center"><code>{{.Protocol}}://{{.RegistryURL}}/image/{{.ID}}/{{.Version}}/{{.Mode}}-{{.Arch}}{{if .Secureboot}}-secureboot{{end}}{{if and .Secureboot .UseUKI}}-uki.efi{{else}}{{.Suffix}}{{end}}</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
</table>
<h2 id="machinespec">MachineSpec</h2>
<p><code>MachineSpec</code> defines machine hardware configurations for a node.</p>
<table>
<tr>
<th>Field</th>
<p><th>Type</th><th>Description</th><th>Default Value</th><th>Required</th></p>
</tr>
<tr>
<td><code>mode</code></td>
<td>string</td>
<td>Machine mode.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">metal</span>
</code></pre></div>
</details></td>
<td align="center"><code>"metal"</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>arch</code></td>
<td>string</td>
<td>Machine architecture.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">arch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arm64</span>
</code></pre></div>
</summary></td>
<td align="center"><code>amd64</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>secureboot</code></td>
<td>bool</td>
<td>Whether to enable Secure Boot.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">secureboot</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>useUKI</code></td>
<td>bool</td>
<td>Whether to use UKI if Secure Boot is enabled.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">useUKI</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</summary></td>
<td align="center"><code>false</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>bootMethod</code></td>
<td>string</td>
<td><details><summary>Boot method for the node.</summary>Can be "disk-image", "iso" or "pxe".</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">bootMethod</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">disk-image</span>
</code></pre></div>
</summary></td>
<td align="center"><code>iso</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>imageSuffix</code></td>
<td>string</td>
<td><details><summary>The image file extension.</summary>Will be automatically defined by specified <code>bootMethod</code>, e.g: <code>raw.xz</code>, <code>raw.tar.gz</code>, <code>qcow2</code>.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">imageSuffix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">raw.xz</span>
</code></pre></div>
</summary></td>
<td align="center"><code>""</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
</table>
<h2 id="ingressfirewall">IngressFirewall</h2>
<p><code>IngressFirewall</code> defines machine firewall configuration for a node.</p>
<table>
<tr>
<th>Field</th>
<p><th>Type</th><th>Description</th><th>Default Value</th><th>Required</th></p>
</tr>
<tr>
<td><code>defaultAction</code></td>
<td><code>string</code></td>
<td><details><summary>Default action for all not explicitly configured traffic.</summary>Can be "accept" or "block"</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">defaultAction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">accept</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>rules</code></td>
<td>[]<a href="#networkrule">NetworkRule</a></td>
<td><details><summary>List of matching network rules to allow or block against the defaultAction.</summary>If <code>defaultAction</code> is set to block, matching rules will be allowed vice versa.</details><details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">rules</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kubelet-ingress</span>
<span class="w">    </span><span class="nt">portSelector</span><span class="p">:</span>
<span class="w">      </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10250</span>
<span class="w">      </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tcp</span>
<span class="w">    </span><span class="nt">ingress</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">subnet</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.20.0.0/24</span>
<span class="w">        </span><span class="nt">except</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.20.0.1/32</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
</table>
<h2 id="extensionservice">ExtensionService</h2>
<p><code>ExtensionService</code> defines machine extension service configuration for a node.</p>
<table>
<tr>
<th>Field</th>
<p><th>Type</th><th>Description</th><th>Default Value</th><th>Required</th></p>
</tr>
<tr>
<td><code>name</code></td>
<td><code>string</code></td>
<td>Name of the extension service config.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nut-client</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>configFiles</code></td>
<td>[]<a href="#configfile">ConfigFile</a></td>
<td>The config files for the extension service.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">configFiles</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MONITOR upsmonHost 1 remote pass password</span>
<span class="w">    </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/etc/nut/upsmon.conf</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>environment</code></td>
<td>[]string</td>
<td>The environment for the extension service.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">environment</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">UPS_NAME=ups</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
</table>
<h2 id="volume">Volume</h2>
<p><code>Volume</code> defines machine volume configuration for a node.</p>
<table>
<tr>
<th>Field</th>
<p><th>Type</th><th>Description</th><th>Default Value</th><th>Required</th></p>
</tr>
<tr>
<td><code>name</code></td>
<td><code>string</code></td>
<td>Name of the volume config.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EPHEMERAL</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>provisioning</code></td>
<td><a href="#provisioningspec">ProvisioningSpec</a></td>
<td>Provisioning spec of the volume config.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">provisioning</span><span class="p">:</span>
<span class="w">  </span><span class="nt">diskSelector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">disk.transport == &quot;nvme&quot;</span>
<span class="w">  </span><span class="nt">maxSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50GiB</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
</table>
<h2 id="uservolume">UserVolume</h2>
<p><code>UserVolume</code> defines machine user volume configuration for a node.</p>
<table>
<tr>
<th>Field</th>
<p><th>Type</th><th>Description</th><th>Default Value</th><th>Required</th></p>
</tr>
<tr>
<td><code>name</code></td>
<td><code>string</code></td>
<td>Name of the volume config.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ceph-data</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>provisioning</code></td>
<td><a href="#provisioningspec">ProvisioningSpec</a></td>
<td>Provisioning spec of the volume config.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">provisioning</span><span class="p">:</span>
<span class="w">  </span><span class="nt">diskSelector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">disk.transport == &quot;nvme&quot;</span>
<span class="w">  </span><span class="nt">maxSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50GiB</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>filesystem</code></td>
<td><a href="#filesystemspec">FilesystemSpec</a></td>
<td>Filesystem spec of the volume config.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">filesystem</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">xfs</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="❎" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/274e.png" title=":negative_squared_cross_mark:" width="20px" /></td>
</tr>
</table>
<h2 id="networkrule">NetworkRule</h2>
<p><code>NetworkRule</code> defines the firewall rules to match.</p>
<table>
<tr>
<th>Field</th>
<p><th>Type</th><th>Description</th><th>Default Value</th><th>Required</th></p>
</tr>
<tr>
<td><code>name</code></td>
<td><code>string</code></td>
<td>Name of the rule.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kubelet-ingress</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>portSelector</code></td>
<td><a href="#portselector">PortSelector</a></td>
<td>Ports and protocols on the host affected by the rule.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">portSelector</span><span class="p">:</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10250</span>
<span class="w">  </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tcp</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
<tr>
<td><code>ingress</code></td>
<td>[]<a href="#ingressconfig">IngressConfig</a></td>
<td>List of source subnets allowed to access the host ports/protocols.<details><summary><em>Show example</em></summary>
<div class="highlight"><pre><span></span><code><span class="nt">ingress</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">subnet</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.20.0.0/24</span>
<span class="w">    </span><span class="nt">except</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.20.0.1/32</span>
</code></pre></div>
</details></td>
<td align="center"><code>nil</code></td>
<td align="center"><img align="center" alt="✅" class="emojione" height="20px" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/2705.png" title=":white_check_mark:" width="20px" /></td>
</tr>
</table>
<h2 id="cniconfig">CNIConfig</h2>
<p><code>CNIConfig</code> is type of upstream Talos <a href="https://www.talos.dev/latest/reference/configuration/#cniconfig" target="_blank"><code>v1alpha1.CNIConfig</code></a></p>
<h2 id="installdiskselector">InstallDiskSelector</h2>
<p><code>InstallDiskSelector</code> is type of upstream Talos <a href="https://www.talos.dev/latest/reference/configuration/#installdiskselector" target="_blank"><code>v1alpha1.InstallDiskSelector</code></a>.</p>
<h2 id="inlinemanifest">InlineManifest</h2>
<p><code>InlineManifest</code> is type of upstream Talos <a href="https://www.talos.dev/latest/reference/configuration/v1alpha1/config/#Config.cluster.inlineManifests." target="_blank"><code>v1alpha1.ClusterInlineManifest</code></a></p>
<p>In addition to this, there's also a <code>skipEnvsubst</code> key that can be set to <code>true</code> to skip doing envsubst (only for file outside of <code>talconfig.yaml</code>)</p>
<h2 id="machinedisk">MachineDisk</h2>
<p><code>MachineDisk</code> is type of upstream Talos <a href="https://www.talos.dev/latest/reference/configuration/#machinedisk" target="_blank"><code>v1alpha1.MachineDisk</code></a></p>
<h2 id="machinefile">MachineFile</h2>
<p><code>MachineFile</code> is type of upstream Talos <a href="https://www.talos.dev/latest/reference/configuration/#machinefile" target="_blank"><code>v1alpha1.MachineFile</code></a></p>
<p>In addition to this, there's also a <code>skipEnvsubst</code> key that can be set to <code>true</code> to skip doing envsubst (only for file outside of <code>talconfig.yaml</code>)</p>
<h2 id="installextensionconfig">InstallExtensionConfig</h2>
<p><code>InstallExtensionConfig</code> is type of upstream Talos <a href="https://www.talos.dev/latest/reference/configuration/#installextensionconfig" target="_blank"><code>v1alpha1.InstallExtensionConfig</code></a></p>
<h2 id="schematic">Schematic</h2>
<p><code>Schematic</code> is type of upstream Talos Image Factory <a href="https://pkg.go.dev/github.com/siderolabs/image-factory/pkg/schematic#Schematic" target="_blank"><code>schematic.Schematic</code></a></p>
<h2 id="kernelmoduleconfig">KernelModuleConfig</h2>
<p><code>KernelModuleConfig</code> is type of upstream Talos <a href="https://www.talos.dev/latest/reference/configuration/#kernelmoduleconfig" target="_blank"><code>v1alpha1.KernelModuleConfig</code></a></p>
<h2 id="device">Device</h2>
<p><code>Device</code> is type of upstream Talos <a href="https://www.talos.dev/latest/reference/configuration/#device" target="_blank"><code>v1alpha1.Device</code></a></p>
<h2 id="portselector">PortSelector</h2>
<p><code>PortSelector</code> is type of upstream Talos <a href="https://www.talos.dev/latest/reference/configuration/network/networkruleconfig/#NetworkRuleConfig.portSelector" target="_blank"><code>network.RulePortSelector</code></a></p>
<h2 id="ingressconfig">IngressConfig</h2>
<p><code>IngressConfig</code> is type of upstream Talos <a href="https://www.talos.dev/latest/reference/configuration/network/networkruleconfig/#NetworkRuleConfig.ingress" target="_blank"><code>network.IngressConfig</code></a></p>
<h2 id="configfile">ConfigFile</h2>
<p><code>ConfigFile</code> is type of upstream Talos <a href="https://www.talos.dev/v1.7/reference/configuration/extensions/extensionserviceconfig/#ExtensionServiceConfig.configFiles" target="_blank"><code>extensions.ConfigFile</code></a></p>
<h2 id="provisioningspec">ProvisioningSpec</h2>
<p><code>ProvisioningSpec</code> is type of upstream Talos <a href="https://www.talos.dev/v1.9/reference/configuration/block/volumeconfig/#VolumeConfig.provisioning" target="_blank"><code>block.ProvisioningSpec</code></a></p>
<h2 id="filesystemspec">FilesystemSpec</h2>
<p><code>FilesystemSpec</code> is type of upstream Talos <a href="https://www.talos.dev/v1.10/reference/configuration/block/uservolumeconfig/#UserVolumeConfig.filesystem" target="_blank"><code>block.ProvisioningSpec</code></a></p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../cli/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../supported-version/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../js/version-select.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
